String notifyAmi() {
    // Fetch the latest ARN of the image recipe
    def recipeArn = sh(script: "aws imagebuilder list-image-recipes --filters 'name=name,values=gold-recipe' --output text | awk '{print \$2}' | sort -t '/' -k 5 -V | tail -n 1", returnStdout: true).trim()
    
    // Check if recipeArn is empty
    if (!recipeArn) {
        error("No image recipe found with the name 'gold-recipe'")
    }
    
    // Fetch the latest AMIs using the recipe ARN
    def amis = sh(script: "aws imagebuilder list-images --filters 'Name=imageRecipeArn,Values=${recipeArn}' --query 'ImageVersionList[-1].OutputResources.Amis[*].Image' --output text", returnStdout: true).trim()
    
    // Format the message to be sent to Slack
    String slackMessage = "Latest AMIs from gold-recipe: ${amis.split('\n').join(', ')}"
    
    // Send the notification to Slack
    Utilities.sendSlackNotification(slackChannel, slackMessage)
    
    return slackMessage
}
